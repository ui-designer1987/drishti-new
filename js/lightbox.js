/*! NSB Box v1.0.5 | (c) NSB Media, Lindenstrasse 16, 6340 Baar, www.nsbmedia.ch | Etienne Schorro - 2022 */ var animBreake=!1,currentLink=0;function isEndOf(t,e){return t.endsWith(e)}function checkFileExtension(t,e){return e.some(e=>isEndOf(t,e))}function closeNSBBox(){$("#nsbbox").fadeOut(300),setTimeout(function(){$("#nsbbox").remove()},300)}function nsbBOXImgBack(){0==animBreake&&(animBreake=!0,$("#nsbBOXText").text(linksTextArr[currentLink]),$("#nsbbox img").css("box-shadow","none").animate({left:"-=3%",opacity:0},300,function(){$("#nsbbox img").attr("src",linksArr[currentLink]).css("left","53%").animate({left:"-=3%",opacity:1},200,function(){$(this).css("box-shadow","0 0 50px #333"),animBreake=!1})}),--currentLink<0&&(currentLink=countImgLink-1))}function nsbBOXImgForw(){0==animBreake&&(animBreake=!0,$("#nsbBOXText").text(linksTextArr[currentLink]),$("#nsbbox img").css("box-shadow","none").animate({left:"+=3%",opacity:0},300,function(){$("#nsbbox img").attr("src",linksArr[currentLink]).css("left","47%").animate({left:"+=3%",opacity:1},200,function(){$(this).css("box-shadow","0 0 50px #333"),animBreake=!1})}),++currentLink>=countImgLink&&(currentLink=0))}function nsbBOXinit(){$(document).on("click",".nsbbox",function(t){var e,n;return t.stopPropagation(),img=!1,iframe=!0,$("#nsbbox").remove(),$("body").append('<div id="nsbbox"><div class="loader"></div><a class="pfeilLinks"></a><a class="pfeilRechts"></a><p id="nsbBOXText"></p><a class="closeBOX">X</a></div>'),$("#nsbbox").fadeOut(0).fadeIn(600),$("#nsbbox a.pfeilLinks, #nsbbox a.pfeilRechts").fadeOut(0),$("#nsbbox a.pfeilLinks, #nsbbox a.pfeilRechts").click(function(){return!1}),$("#nsbbox, a.closeBOX").click(function(){closeNSBBox()}),$("body").keyup(function(t){27==t.keyCode&&closeNSBBox(),37==t.keyCode&&nsbBOXImgBack(),39==t.keyCode&&nsbBOXImgForw()}),(checkFileExtension(t.currentTarget.href.split("?")[0],[".webp",".jpeg",".webp",".gif"])||$(this).data("image"))&&(img=!0,iframe=!1),t.target.alt&&$("#nsbBOXText").text(t.target.alt),t.target.title&&$("#nsbBOXText").text(t.target.title),t.currentTarget.alt&&$("#nsbBOXText").text(t.currentTarget.alt),t.currentTarget.title&&$("#nsbBOXText").text(t.currentTarget.title),1==img&&($("#nsbbox").append('<img id="swipeDetect" src="'+t.currentTarget.href+'">'),countImgLink=0,linksTextArr=[],linksArr=[],(imagesArr=$("a.nsbbox").toArray()).forEach(function(t){(isEndOf(t.href.split("?")[0],".webp")||isEndOf(t.href.split("?")[0],".webp")||isEndOf(t.href.split("?")[0],".jpeg")||isEndOf(t.href.split("?")[0],".JPEG"))&&(linksTextArr[countImgLink]=t.title,linksArr[countImgLink]=t.href,countImgLink++),(isEndOf(t.href.split("?")[0],".webp")||isEndOf(t.href.split("?")[0],".webp"))&&(linksTextArr[countImgLink]=t.title,linksArr[countImgLink]=t.href,countImgLink++),(isEndOf(t.href.split("?")[0],".gif")||isEndOf(t.href.split("?")[0],".GIF"))&&(linksTextArr[countImgLink]=t.title,linksArr[countImgLink]=t.href,countImgLink++)}),1<countImgLink&&(iLi=0,linksArr.forEach(function(e){t.currentTarget.href.split("?")[0]==e&&(currentLink=iLi),iLi++}),$("#nsbbox a.pfeilLinks, #nsbbox a.pfeilRechts").show(600),$("#nsbbox a.pfeilLinks").click(function(){nsbBOXImgBack()}),$("#nsbbox a.pfeilRechts").click(function(){nsbBOXImgForw()}),document.addEventListener("touchstart",function(t){e=t.touches[0].clientX,n=t.touches[0].clientY},!1),document.addEventListener("touchmove",function(t){if(e&&n){var i=t.touches[0].clientX,t=t.touches[0].clientY,i=e-i,t=n-t;Math.abs(i)>Math.abs(t)&&(0<i?nsbBOXImgForw:nsbBOXImgBack)(),n=e=null}},!1),n=e=null)),1==iframe&&(scrolling="","no"==$(this).data("scrolling")&&(scrolling='scrolling="no"'),$("#nsbbox").append("<iframe "+scrolling+' src="'+t.currentTarget.href+'"></iframe>'),$(this).data("width")&&$("#nsbbox iframe").width($(this).data("width")),$(this).data("height")&&$("#nsbbox iframe").height($(this).data("height"))),!1})}$(document).ready(function(){nsbBOXinit()});
